/*! mock-data 15-08-2013 */
!function(a){var b={VERSION:"0.1.1",_mocked:{}},c=function(){var b={};return b.extend=function(){var c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length;for(1===i&&(g=this,h=0);i>h;h++)if(c=arguments[h])for(d in c)e=g[d],f=c[d],g!==f&&f!==a&&(b.isArray(f)||b.isObject(f)?(b.isArray(f)&&(clone=e&&b.isArray(e)?e:[]),b.isObject(f)&&(clone=e&&b.isObject(e)?e:{}),g[d]=b.extend(clone,f)):g[d]=f);return g},b.each=function(a,b,c){var d,e;if("number"===this.type(a))for(d=0;a>d;d++)b(d,d);else if(a.length===+a.length)for(d=0;d<a.length&&b.call(c,a[d],d,a)!==!1;d++);else for(e in a)if(b.call(c,a[e],e,a)===!1)break},b.type=function(b){return null===b||b===a?String(b):Object.prototype.toString.call(b).match(/\[object (\w+)\]/)[1].toLowerCase()},b.each("String Object Array".split(" "),function(a){b["is"+a]=function(c){return b.type(c)===a.toLowerCase()}}),b.noop=function(){},b}(),d=function(){var b={extend:c.extend};return b.extend({"boolean":function(b,c,d){return d!==a?(b="undefined"==typeof b||isNaN(b)?1:parseInt(b,10),c="undefined"==typeof c||isNaN(c)?1:parseInt(c,10),Math.random()>1/(b+c)*b?!d:d):Math.random()>=.5},bool:function(a,b,c){return this.boolean(a,b,c)},natural:function(a,b){return a="undefined"!=typeof a?parseInt(a,10):0,b="undefined"!=typeof b?parseInt(b,10):9007199254740992,Math.round(Math.random()*(b-a))+a},integer:function(a,b){return a="undefined"!=typeof a?parseInt(a,10):-9007199254740992,b="undefined"!=typeof b?parseInt(b,10):9007199254740992,Math.round(Math.random()*(b-a))+a},"int":function(a,b){return this.integer(a,b)},"float":function(a,b,c,d){return this.natural(a,b)+"."+this.natural(c,d)},character:function(a){var c={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",symbol:"!@#$%^&*()[]"};return c.alpha=c.lower+c.upper,c.undefined=c.lower+c.upper,a=c[(""+a).toLowerCase()]||a,a.charAt(b.natural(0,a.length-1))},"char":function(a){return this.character(a)},string:function(c,d,e){var f;3===arguments.length&&(f=b.natural(d,e)),2===arguments.length&&("string"==typeof arguments[0]?f=d:(f=b.natural(c,d),c=a)),1===arguments.length&&(f=c,c=a),0===arguments.length&&(f=b.natural(3,7));for(var g="",h=0;f>h;h++)g+=b.character(c);return g},str:function(a,b,c){return this.string(a,b,c)},range:function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f}}),b.extend({patternLetters:{yyyy:"getFullYear",yy:function(a){return(""+a.getFullYear()).slice(2)},y:"yy",MM:function(a){var b=a.getMonth()+1;return 10>b?"0"+b:b},M:function(a){return a.getMonth()+1},dd:function(a){var b=a.getDate();return 10>b?"0"+b:b},d:"getDate",HH:function(a){var b=a.getHours();return 10>b?"0"+b:b},H:"getHours",hh:function(a){var b=a.getHours()%12;return 10>b?"0"+b:b},h:function(a){return a.getHours()%12},mm:function(a){var b=a.getMinutes();return 10>b?"0"+b:b},m:"getMinutes",ss:function(a){var b=a.getSeconds();return 10>b?"0"+b:b},s:"getSeconds",SS:function(a){var b=a.getMilliseconds();return 10>b&&"00"+b||100>b&&"0"+b||b},S:"getMilliseconds",A:function(a){return a.getHours()<12?"AM":"PM"},a:function(a){return a.getHours()<12?"am":"pm"}}}),b.extend({rformat:new RegExp(function(){var a=[];for(var c in b.patternLetters)a.push(c);return"("+a.join("|")+")"}(),"g"),format:function(a,c){var d=b.patternLetters,e=b.rformat;return c.replace(e,function(b,c){return"function"==typeof d[c]?d[c](a):d[c]in d?arguments.callee(b,d[c]):a[d[c]]()})},randomDate:function(){return new Date(Math.floor(Math.random()*(new Date).valueOf()))},date:function(a){return a=a||"yyyy-MM-dd",this.format(this.randomDate(),a)},time:function(a){return a=a||"HH:mm:ss",this.format(this.randomDate(),a)},datetime:function(a){return a=a||"yyyy-MM-dd HH:mm:ss",this.format(this.randomDate(),a)}}),b.extend({ad_size:["300x250","250x250","240x400","336x280","180x150","720x300","468x60","234x60","88x31","120x90","120x60","120x240","125x125","728x90","160x600","120x600","300x600"],screen_size:["320x200","320x240","640x480","800x480","800x480","1024x600","1024x768","1280x800","1440x900","1920x1200","2560x1600"],video_size:["720x480","768x576","1280x720","1920x1080"],img:function(b,c,d,e,f){return 4===arguments.length&&(f=e,e=a),3===arguments.length&&(f=d),b||(b=this.pick(this.ad_size)),"http://dummyimage.com/"+b+(c?"/"+c:"")+(d?"/"+d:"")+(e?"."+e:"")+(f?"&text="+f:"")}}),b.extend({color:function(){var a=Math.floor(16777215*Math.random()).toString(16);return a="#"+("000000"+a).slice(-6)}}),b.extend({capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},upper:function(a){return a.toUpperCase()},lower:function(a){return a.toLowerCase()},pick:function(a){return a[this.natural(0,a.length-1)]},shuffle:function(a){for(var b=a.slice(0),c=[],d=0,e=b.length,f=0;e>f;f++)d=this.natural(0,b.length-1),c.push(b[d]),b.splice(d,1);return c}}),b.extend({paragraph:function(a){a=a||b.natural(3,7);for(var c=[],d=0;a>d;d++)c.push(b.sentence());return c.join(" ")},sentence:function(a){a=a||b.natural(12,18);for(var c=[],d=0;a>d;d++)c.push(b.word());return b.capitalize(c.join(" "))+"."},word:function(a,c){var d,e=[];a="undefined"!=typeof a?parseInt(a,10):1,c="undefined"!=typeof c?parseInt(c,10):a,d=b.natural(a,c);for(var f=0;a>f;f++)e.push(b.string("lower",3,10));return e.join(" ")},title:function(){for(var a=[],c=b.natural(3,7),d=0;c>d;d++)a.push(this.capitalize(this.word()));return a.join(" ")}}),b.extend({first:function(){var a=["James","John","Robert","Michael","William","David","Richard","Charles","Joseph","Thomas","Christopher","Daniel","Paul","Mark","Donald","George","Kenneth","Steven","Edward","Brian","Ronald","Anthony","Kevin","Jason","Matthew","Gary","Timothy","Jose","Larry","Jeffrey","Frank","Scott","Eric"].concat(["Mary","Patricia","Linda","Barbara","Elizabeth","Jennifer","Maria","Susan","Margaret","Dorothy","Lisa","Nancy","Karen","Betty","Helen","Sandra","Donna","Carol","Ruth","Sharon","Michelle","Laura","Sarah","Kimberly","Deborah","Jessica","Shirley","Cynthia","Angela","Melissa","Brenda","Amy","Anna"]);return this.pick(a)},last:function(){var a=["Smith","Johnson","Williams","Brown","Jones","Miller","Davis","Garcia","Rodriguez","Wilson","Martinez","Anderson","Taylor","Thomas","Hernandez","Moore","Martin","Jackson","Thompson","White","Lopez","Lee","Gonzalez","Harris","Clark","Lewis","Robinson","Walker","Perez","Hall","Young","Allen"];return this.pick(a)},name:function(a){return this.first()+" "+(a?this.first()+" ":"")+this.last()}}),b.extend({url:function(){return"http://"+this.domain()+"/"+this.word()},domain:function(a){return this.word()+"."+(a||this.tld())},email:function(a){return this.character("lower")+"."+this.last().toLowerCase()+"@"+this.last().toLowerCase()+"."+this.tld()},ip:function(){return this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)+"."+this.natural(0,255)},tlds:["com","org","edu","gov","co.uk","net","io"],tld:function(){return this.pick(this.tlds)}}),b.extend({areas:["东北","华北","华东","华中","华南","西南","西北"],area:function(){return this.pick(this.areas)},regions:["110000 北京市","120000 天津市","130000 河北省","140000 山西省","150000 内蒙古自治区","210000 辽宁省","220000 吉林省","230000 黑龙江省","310000 上海市","320000 江苏省","330000 浙江省","340000 安徽省","350000 福建省","360000 江西省","370000 山东省","410000 河南省","420000 湖北省","430000 湖南省","440000 广东省","450000 广西壮族自治区","460000 海南省","500000 重庆市","510000 四川省","520000 贵州省","530000 云南省","540000 西藏自治区","610000 陕西省","620000 甘肃省","630000 青海省","640000 宁夏回族自治区","650000 新疆维吾尔自治区","650000 新疆维吾尔自治区","710000 台湾省","810000 香港特别行政区","820000 澳门特别行政区"],region:function(){return this.pick(this.regions).split(" ")[1]},address:function(){},city:function(){},phone:function(){},areacode:function(){},street:function(){},street_suffixes:function(){},street_suffix:function(){},states:function(){},state:function(){},zip:function(a){for(var b="",c=0;(a||6)>c;c++)b+=this.natural(0,9);return b}}),b.extend({todo:function(){return"todo"}}),b.extend({d4:function(){return this.natural(1,4)},d6:function(){return this.natural(1,6)},d8:function(){return this.natural(1,8)},d12:function(){return this.natural(1,12)},d20:function(){return this.natural(1,20)},d100:function(){return this.natural(1,100)},guid:function(){var a="ABCDEF1234567890",b=this.string(a,8)+"-"+this.string(a,4)+"-"+this.string(a,4)+"-"+this.string(a,4)+"-"+this.string(a,12);return b},id:function(){var a,b=0,c=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],d=["1","0","X","9","8","7","6","5","4","3","2"];a=this.pick(this.regions).split(" ")[0]+this.date("yyyyMMdd")+this.string("number",3);for(var e=0;e<a.length;e++)b+=a[e]*c[e];return a+=d[b%11]}}),b}(),e=/(.+)\|(?:\+(\d+)|(\d+-?\d*)?(?:\.(\d+-?\d*))?)/,f=/(\d+)-?(\d+)?/,g=/\\*@([^@#%&()\?\s\/\.]+)(?:\((.+?)\))?/g;b.extend=c.extend,b.mock=function(a,c){return 1===arguments.length?h.gen(a):(b._mocked[a]={rurl:a,template:c},b)};var h={extend:c.extend};h.gen=function(a,b,g){var i,j=(b=b||"").match(e),k=j&&j[3]&&j[3].match(f),l=k&&parseInt(k[1],10),m=k&&parseInt(k[2],10),n=k?!k[2]&&parseInt(k[1],10)||d.integer(l,m):1,o=j&&j[4]&&j[4].match(f),p=o&&parseInt(o[1],10),q=o&&parseInt(o[2],10),r=o?!o[2]&&parseInt(o[1],10)||d.integer(p,q):0,s=j&&j[4],t=c.type(a);return h[t]?i=h[t]({type:t,template:a,name:b,obj:g,parameters:j,range:k,min:l,max:m,count:n,decimal:o,dmin:p,dmax:q,dcount:r,point:s}):a},h.extend({array:function(a){var b,c,e=[];if(a.parameters)if(1===a.count&&a.template.length>1)e=d.pick(a.template);else for(b=0;b<a.count;b++){c=0;do e.push(h.gen(a.template[c++]));while(c<a.template.length)}else for(b=0;b<a.template.length;b++)e.push(h.gen(a.template[b]));return e},object:function(a){var b,d,f={};for(b in a.template)f[b.replace(e,"$1")]=h.gen(a.template[b],b,f),d=b.match(e),d&&d[2]&&"number"===c.type(a.template[b])&&(a.template[b]+=parseInt(d[2],10));return f},number:function(a){var b,c,e;if(a.point){for(a.template+="",c=a.template.split("."),c[0]=a.range?a.count:c[0],c[1]=(c[1]||"").slice(0,a.dcount),e=0;c[1].length<a.dcount;e++)c[1]+=d.character("number");b=parseFloat(c.join("."),10)}else b=a.range&&!a.parameters[2]?a.count:a.template;return b},"boolean":function(a){var b;return b=a.parameters?d.bool(a.min,a.max,a.template):a.template},string:function(a){var b,c,e,f="";if(a.template.length){for(b=0;b<a.count;b++)f+=a.template;for(c=f.match(g)||[],b=0;b<c.length;b++)e=c[b],/^\\/.test(e)?c.splice(b--,1):f=f.replace(e,h.placeholder(e,a.obj))}else f=a.range?d.string(a.count):a.template;return f}}),h.extend({placeholder:function(b,e){g.exec("");var f=g.exec(b),i=f&&f[1],j=i&&i.toLowerCase(),k=f&&f[2]?f[2].split(/,\s*/):[];if(e&&i in e)return e[i];if(!(i in d||j in d))return b;for(var l=0;l<k.length;l++)g.exec(""),g.test(k[l])&&(k[l]=h.placeholder(k[l],e));var m=d[i]||d[j];switch(c.type(m)){case"array":return d.pick(m);case"function":var n=m.apply(d,k);return n===a&&(n=""),n}}}),b.mockjax=function(a){function c(){return{open:a.noop,send:a.noop,getAllResponseHeaders:a.noop,readyState:4,status:200}}function d(a){return function(){return b.mock(a.template)}}return a.ajaxPrefilter("*",function(e){for(var f in b._mocked){var g=b._mocked[f];if(("string"!==a.type(g.rurl)||g.rurl===e.url)&&("regexp"!==a.type(g.rurl)||g.rurl.test(e.url))){e.converters["text json"]=d(g),e.xhr=c;break}}}),b},"undefined"!=typeof jQuery&&b.mockjax(jQuery),"undefined"!=typeof KISSY&&KISSY.add&&(b.mockjax=function(a){var c=a.io;a.io=function(d){for(var e in b._mocked){var f=b._mocked[e];if(("string"!==a.type(f.rurl)||f.rurl===d.url)&&("regexp"!==a.type(f.rurl)||f.rurl.test(d.url))){console.log("[mock]",d.url,">",f.rurl);var g=b.mock(f.template);return console.log("[mock]",g),d.success&&d.success(g),d.complete&&d.complete(g),a}}return c.apply(this,arguments)}}),b.Util=c,b.Random=d,"object"==typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):this.Mock=b,"undefined"!=typeof KISSY&&(KISSY.add("mock",function(a){return b.mockjax(a),b},{requires:["ajax"]}),KISSY.add("components/mock/index",function(a){return b.mockjax(a),b},{requires:["ajax"]}))}.call(this);